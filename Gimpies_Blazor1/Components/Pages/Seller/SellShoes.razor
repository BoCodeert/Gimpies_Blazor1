@page "/sellShoes"

@using Gimpies_Blazor1.Database.Data
@using Gimpies_Blazor1.Database.Models.Entities
@using Microsoft.EntityFrameworkCore
@inject ApplicationDbContext DbContext
@inject NavigationManager Navigation
@inject IDialogService DialogService
@rendermode InteractiveServer

<PageTitle>Schoenenoverzicht</PageTitle>

<h3>Schoenenoverzicht</h3>

<AuthorizeView Policy="@UserPolicy.View_Shoes">
    <ChildContent>
        @if (shoes == null)
        {
            <p>Het overzicht wordt geladen...</p>
        }

        else if (shoes.Count == 0)
        {
            <p>Er zijn geen schoenen beschikbaar</p>
        }
        else
        {
            <table class=" table">
                <thead>
                    <tr>
                        <th>Merk</th>
                        <th>Model</th>
                        <th>Kleur</th>
                        <th>Maat</th>
                        <th>Prijs</th>
                        <th></th>
                        <AuthorizeView Policy="@UserPolicy.Sell_Shoes">
                            <ChildContent Context="SellShoesContext">
                                <th></th>
                            </ChildContent>
                        </AuthorizeView>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var shoe in shoes)
                    {
                        <tr>
                            <td>@shoe.Brand.BrandName</td>
                            <td>@shoe.Model.ModelName</td>
                            <td>@shoe.Colour.ColourName</td>
                            <td>@shoe.Size.SizeValue</td>
                            <td>€@shoe.Value</td>
                            <td></td>
                            <AuthorizeView Policy="@UserPolicy.Sell_Shoes">
                                @* <ChildContent Context="DeleteShoesContext"> *@
                                @*     <MudButton Color="Color.Error" Variant="Variant.Filled" OnClick="() => OpenSellShoesDialog(shoe)">Verkopen</MudButton> *@
                                @* </ChildContent> *@
                            </AuthorizeView>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </ChildContent>
</AuthorizeView>


